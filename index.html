<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>$RAGE - The Rage Guy Memecoin</title>
    <!-- Favicon (Weboldal ikonja) beállítása a logóval -->
    <link rel="icon" href="https://images.vexels.com/media/users/3/143599/isolated/preview/70e36dc21ac1c46c509eac5b600c22d9-rageguy-meme-face.png" type="image/png">
    
    <!-- Tailwind CSS CDN for responsive and fast styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Font - Permanent Marker for the hand-written, meme style -->
    <link href="https://fonts.googleapis.com/css2?family=Permanent+Marker&display=swap" rel="stylesheet">
    
    <style>
        /* Setting the requested "meme hand-written" font style */
        body {
            font-family: 'Permanent Marker', cursive;
            background-color: #ffffff;
            color: #000000;
            overflow-x: hidden;
            transition: background-color 0.1s; /* Transition for rage burst */
        }

        /* Defining the FFFFFUUUUUUUU animation */
        @keyframes fuuuuAnimate {
            0% { transform: translate(0, 0) rotate(0deg) scale(1); opacity: 0.1; }
            50% { opacity: 0.3; }
            100% { transform: translate(var(--x), var(--y)) rotate(var(--r)) scale(var(--s)); opacity: 0.1; }
        }

        /* Background text style */
        .fuuuu-text {
            position: absolute;
            font-size: 3rem;
            color: #ff0000;
            user-select: none;
            pointer-events: none;
            opacity: 0.1;
            white-space: nowrap;
            animation: fuuuuAnimate 15s infinite alternate ease-in-out;
            z-index: -10;
        }

        /* Navigation link styles */
        .nav-link {
            transition: color 0.2s, transform 0.2s;
        }
        .nav-link:hover {
            color: #ff0000;
            transform: scale(1.05);
        }
        .social-icon:hover {
            color: #ff0000;
            transform: scale(1.1);
        }

        /* Copy button style */
        .copy-button {
            transition: background-color 0.2s, transform 0.1s;
        }
        .copy-button:active {
            transform: scale(0.95);
        }

        /* Slideshow image containment */
        .slide img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            background-color: #f0f0f0;
        }

        /* SPLASH SCREEN CUSTOM STYLES */
        #splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #ffffff; /* Fehér háttér */
            z-index: 100; 
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: #000000; /* Fekete szöveg */
            transition: opacity 0.5s ease;
        }

        /* Progress Bar Container - Üres keret */
        #progress-container {
            width: 90%;
            max-width: 600px;
            height: 40px;
            border: 4px solid #ff0000; /* Piros keret */
            background-color: #f0f0f0; /* Nagyon halvány háttér a sávnak */
            margin-top: 3rem;
            position: relative;
        }
        
        /* Ensures elements inside are unselectable */
        .unselectable {
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
        }

        /* Dexscreener Iframe fix for responsiveness */
        .chart-container {
            position: relative;
            width: 100%;
            padding-bottom: 100%; /* 1:1 aspect ratio, adjust as needed */
        }
        .chart-container iframe {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            border: 0;
        }

        /* --- RAGE METER SPECIFIC STYLES --- */
        #rage-meter-container {
            height: 60px;
            background-color: #fce7e7; /* Light red background */
            border: 4px solid #000;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            transition: all 0.2s;
            user-select: none;
        }
        #rage-meter-fill {
            height: 100%;
            background-color: #ff0000;
            width: 0%;
            /* Faster transition for responsiveness */
            transition: width 0.1s linear; 
        }
        #rage-status {
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #000;
            text-shadow: 1px 1px 0 #fff;
            font-weight: bold;
            font-size: 1.5rem;
            z-index: 10;
            pointer-events: none; /* Allows click to pass through to container */
        }

        /* Style for the visual climax (Rage Burst) */
        .rage-burst-active {
            /* Makes the entire body shake */
            animation: rageShake 0.1s infinite alternate; 
            background-color: #ff0000 !important;
            color: #fff;
            box-shadow: 0 0 30px #ff0000;
        }
        .rage-burst-active .rage-section {
            background-color: #000 !important;
            color: #fff !important;
            border-color: #fff !important;
        }

        @keyframes rageShake {
            0% { transform: translate(1px, 1px) rotate(0deg); }
            25% { transform: translate(-1px, 1px) rotate(0.5deg); }
            50% { transform: translate(1px, -1px) rotate(-0.5deg); }
            75% { transform: translate(-1px, -1px) rotate(0.5deg); }
            100% { transform: translate(1px, 1px) rotate(0deg); }
        }
    </style>
</head>
<body>

    <!-- ---------------------------------------------------- -->
    <!-- SPLASH SCREEN START -->
    <!-- ---------------------------------------------------- -->
    <div id="splash-screen" class="unselectable">
        <h1 class="text-4xl sm:text-5xl font-black mb-12">
            PRESS & HOLD TO UNLEASH THE RAGE!
        </h1>
        
        <!-- Interactive Image (Eredeti kép maradt) -->
        <img id="rage-img" 
             src="https://images.vexels.com/media/users/3/143599/isolated/preview/70e36dc21ac1c46c509eac5b600c22d9-rageguy-meme-face.png" 
             alt="Rage Guy Face" 
             class="w-48 h-48 sm:w-64 sm:h-64 rounded-xl border-8 border-red-600 shadow-xl cursor-pointer transition-transform duration-100 hover:scale-105"
             oncontextmenu="return false;"> 

        <p id="instruction-text" class="text-xl mt-6 text-gray-600">
            Hold for 2 seconds...
        </p>

        <!-- Progress Bar (TEXT FILL MECHANISM) -->
        <div id="progress-container" class="relative">
            
            <!-- Base Text Layer (The empty state - shows the single centered text in a light grey) -->
            <div class="absolute inset-0 flex items-center justify-center bg-transparent text-gray-400 text-xl font-bold unselectable">
                <span style="letter-spacing: 5px;">FFFFFUUUUUUUU</span>
            </div>
            
            <!-- Clipper Layer (The filling state - reveals the red text by growing width) -->
            <div id="progress-clipper" class="absolute top-0 left-0 h-full overflow-hidden" style="width: 0%;">
                <!-- Inner content div: Forced to the full width of the container via JS for perfect overlap/centering. -->
                <div id="clipper-inner-text" class="absolute top-0 left-0 h-full flex items-center justify-center bg-transparent text-red-600 text-xl font-bold unselectable"
                     style="width: 100%;">
                    <span style="letter-spacing: 5px;">FFFFFUUUUUUUU</span>
                </div>
            </div>

        </div>
    </div>
    <!-- ---------------------------------------------------- -->
    <!-- SPLASH SCREEN END -->
    <!-- ---------------------------------------------------- -->


    <!-- ---------------------------------------------------- -->
    <!-- MAIN CONTENT CONTAINER (Initially Hidden) -->
    <!-- ---------------------------------------------------- -->
    <div id="main-content" class="hidden">
        
        <!-- FFFFUUUUUUUU ANIMATED BACKGROUND ELEMENTS (Filled by JS) -->
        <div id="fuuuu-container"></div>

        <!-- HEADER AND NAVIGATION -->
        <header class="sticky top-0 z-20 bg-white/95 backdrop-blur-sm border-b border-gray-200">
            <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between py-4">
                
                <!-- LOGO and Ticker -->
                <div class="flex items-center space-x-3">
                    <img src="https://images.vexels.com/media/users/3/143599/isolated/preview/70e36dc21ac1c46c509eac5b600c22d9-rageguy-meme-face.png" 
                        alt="Rage Guy Logo" class="w-10 h-10 rounded-full border-2 border-black">
                    <!-- CSÖKKENTVE text-3xl-ről text-2xl-re -->
                    <span class="text-2xl font-bold">$RAGE</span> 
                </div>

                <!-- Navigation Links (Desktop) -->
                <div class="hidden md:flex items-center space-x-6 text-lg"> 
                    <a href="#about" class="nav-link">About</a>
                    <a href="#rage-meter" class="nav-link text-red-600 font-bold">Rage Meter</a> 
                    <a href="#memes" class="nav-link">Memes</a>
                    <a href="#manifesto" class="nav-link">Manifesto</a>
                    <a href="#buy" class="nav-link">Buy</a>
                    <a href="#chart" class="nav-link text-red-600 font-bold">Chart</a>

                    <!-- X.COM ICON ADDED HERE -->
                    <a href="https://x.com/rageguyffuu?s=21" target="_blank" class="social-icon text-black transition-colors duration-200">
                        <svg class="w-7 h-7" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true" xmlns="http://www.w3.org/2000/svg">
                            <path d="M18.901 1.153h3.684l-8.722 10.012 9.426 12.008h-7.653l-6.505-8.24-7.532 8.24H.322l8.287-9.524L0 1.153h8.319l5.228 6.947L18.901 1.153Zm-1.879 20.372h3.047L5.051 2.502H1.724l15.298 19.023Z"/>
                        </svg>
                    </a>
                </div>

                <!-- Token Address -->
                <div class="flex items-center text-sm sm:text-base">
                    <!-- Az XL helyett 2XL-nél jelenik meg a címke, hogy több hely maradjon a menünek -->
                    <span class="mr-2 hidden 2xl:inline">Token Address:</span>
                    <button id="copyButton" 
                            onclick="copyAddress('G3FoXHoQDuGkEG8ZqQd7riC9uB1N51bg7JuxJEPNpump')" 
                            class="copy-button bg-black text-white px-2 py-2 text-xs sm:text-sm rounded-lg flex items-center hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-600 focus:ring-opacity-50">
                        <!-- Display full address on large screens, only abbreviated on small screens -->
                        <span class="hidden sm:inline">G3FoXHoQDuGkEG8ZqQd7riC9uB1N51bg7JuxJEPNpump</span>
                        <span class="sm:hidden">CA: G3FoX...</span>
                        <svg id="copyIcon" class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v2"></path></svg>
                        <span id="copiedText" class="ml-2 hidden text-xs font-sans">Copied!</span>
                    </button>
                </div>
            </nav>
            <!-- Navigation Links (Mobile) -->
            <div class="md:hidden flex justify-around py-2 border-t border-gray-200 text-lg">
                <a href="#about" class="nav-link">About</a>
                <a href="#rage-meter" class="nav-link text-red-600 font-bold">Rage</a> 
                <a href="#memes" class="nav-link">Memes</a>
                <a href="#manifesto" class="nav-link">Manifesto</a>
                <a href="#buy" class="nav-link">Buy</a>
            </div>
        </header>

        <!-- A max-w-7xl mx-auto a keretek szélesítését biztosítja -->
        <main class="max-w-7xl mx-auto px-4 py-12 space-y-24"> 

            <!-- MAIN TITLE AND CALL TO ACTION -->
            <section class="text-center pt-8 md:pt-16">
                <!-- Fő logó GIF-re cserélve -->
                <img src="https://media1.tenor.com/m/8t0GpHEHtukAAAAd/fuu-rage.gif" 
                    alt="Rage Guy GIF" 
                    class="mx-auto w-32 h-32 sm:w-40 sm:h-40 rounded-xl mb-4 border-4 border-black shadow-lg object-cover">

                <h1 class="text-6xl sm:text-8xl font-black leading-none mb-6 text-red-600 animate-pulse">
                    $RAGE
                </h1>
                <p class="text-3xl sm:text-4xl text-black">
                    The OG Meme That Never Dies. **CULTURE > MONEY.**
                </p>
            </section>

            <!-- 1. ABOUT SECTION -->
            <section id="about" class="rage-section p-6 md:p-10 border-4 border-black rounded-xl shadow-[8px_8px_0_0_#ff0000] bg-white">
                <h2 class="text-4xl font-bold mb-6 border-b-4 border-black pb-2 text-red-600">
                    About: The Birth of Rage
                </h2>
                <p class="text-xl leading-relaxed">
                    **Rageguy** refers to the main character of a series of crudely-drawn comics typically consisting of four panes, portraying situations that can bring rage and exasperation, with the main character screaming with anger as a result.
                    <br><br>
                    Due to its simplicity and exploitability, Rageguy has been proven popular thus being evolved into a comic series now known as **Rage Comics**. This is not just a meme – it’s a cornerstone of internet culture, a timeless symbol of when you just feel **FFFFFUUUUUUUUU**.
                </p>
            </section>
            
            <!-- 2. INTERACTIVE RAGE METER SECTION (ÚJ SZEKCIÓ) -->
            <section id="rage-meter" class="rage-section p-6 md:p-10 border-4 border-black rounded-xl shadow-[8px_8px_0_0_#000000] bg-white">
                <h2 class="text-4xl font-bold mb-6 border-b-4 border-black pb-2 text-red-600">
                    RAGE METER: Tap to FFFFUUUUUUUU!
                </h2>
                <p class="text-xl mb-4">
                    Feeling the frustration? Release the inner $RAGE! Click or tap the meter repeatedly to reach 100% and unleash the primal scream!
                </p>
                <div id="rage-meter-container" 
                     class="shadow-xl rounded-lg active:scale-[0.99] transition-transform duration-50">
                    <!-- Rage Fill Bar -->
                    <div id="rage-meter-fill" class="rounded-lg"></div>
                    <!-- Status Text -->
                    <div id="rage-status">Tap to build RAGE!</div>
                </div>
                <p id="rage-counter" class="text-center mt-4 text-sm text-gray-500">Rage Level: 0%</p>
            </section>
            <!-- END INTERACTIVE RAGE METER SECTION -->

            <!-- 3. MEMES (SLIDESHOW) -->
            <section id="memes" class="rage-section p-6 md:p-10 border-4 border-black rounded-xl shadow-[8px_8px_0_0_#ff0000] bg-white">
                <h2 class="text-4xl font-bold mb-6 border-b-4 border-black pb-2 text-red-600">
                    Top $RAGE Memes
                </h2>
                <div id="slideshow" class="relative w-full overflow-hidden rounded-lg border-2 border-black" style="height: 400px;">
                    <!-- Slides for image placement -->
                    <div class="slide absolute inset-0 transition-opacity duration-700 ease-in-out opacity-100">
                        <img src="https://pbs.twimg.com/media/G2D6Y-TXwAAY4cg?format=jpg&name=small" class="w-full h-full object-contain" alt="Rage Meme 1">
                    </div>
                    <div class="slide absolute inset-0 transition-opacity duration-700 ease-in-out opacity-0">
                        <img src="https://pbs.twimg.com/media/G2EKMt1WQAAETeR?format=png&name=small" class="w-full h-full object-contain" alt="Rage Meme 2">
                    </div>
                    <div class="slide absolute inset-0 transition-opacity duration-700 ease-in-out opacity-0">
                        <img src="https://pbs.twimg.com/media/G2DE753XsAAnKcS?format=jpg&name=small" class="w-full h-full object-contain" alt="Rage Meme 3">
                    </div>
                    <div class="slide absolute inset-0 transition-opacity duration-700 ease-in-out opacity-0">
                        <img src="https://pbs.twimg.com/media/G2CzE-UWcAAbs9L?format=jpg&name=small" class="w-full h-full object-contain" alt="Rage Meme 4">
                    </div>

                    <!-- Previous Button -->
                    <button onclick="plusSlides(-1)" class="absolute top-1/2 left-0 transform -translate-y-1/2 bg-black text-white p-3 rounded-r-lg hover:bg-red-600 transition duration-300 focus:outline-none">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
                    </button>
                    <!-- Next Button -->
                    <button onclick="plusSlides(1)" class="absolute top-1/2 right-0 transform -translate-y-1/2 bg-black text-white p-3 rounded-l-lg hover:bg-red-600 transition duration-300 focus:outline-none">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                    </button>
                </div>
                <p class="text-center mt-4 text-lg">More memes coming soon!</p>
            </section>
            
            <!-- 4. MANIFESTO / RAGE CALL -->
            <section id="manifesto" class="rage-section p-6 md:p-10 border-4 border-black rounded-xl shadow-[8px_8px_0_0_#ff0000] bg-white">
                <h2 class="text-4xl font-bold mb-6 border-b-4 border-black pb-2 text-red-600">
                    The Manifesto: CULTURE > MONEY
                </h2>
                <p class="text-xl leading-relaxed italic border-l-4 border-red-600 pl-4">
                    This is not just another ticker, it’s a declaration that **MEMES > MONEY GRABS**.
                    <br><br>
                    It’s proof that conviction, history, and **CULTURE** can outlast every cabal, every KOL, every manipulator.
                    <br><br>
                    **$RAGE** is not another “coin of the week.” It’s:
                </p>
                <ul class="list-none space-y-3 mt-6 text-xl">
                    <li class="flex items-start">
                        <span class="text-4xl leading-none mr-2 text-red-600">•</span>
                        A face seen **BILLIONS** of times across the internet.
                    </li>
                    <li class="flex items-start">
                        <span class="text-4xl leading-none mr-2 text-red-600">•</span>
                        An OG meme with over a decade of cultural equity.
                    </li>
                    <li class="flex items-start">
                        <span class="text-4xl leading-none mr-2 text-red-600">•</span>
                        A grassroots movement that refuses to die, powered by people — not cabals, not cash.
                    </li>
                </ul>
                <p class="text-xl leading-relaxed mt-6">
                    This **CULT** is growing faster every day. Retail is waiting for the green light.
                    <br><br>
                    The only thing missing is **YOU** stepping in and giving them access. $RAGE isn’t a gamble, it’s history in motion and we don’t see you missing it.
                    <br><br>
                    <span class="text-3xl font-black text-red-600 block text-center mt-8">TOGETHER WE $RAGE. TOGETHER WE WIN.</span>
                </p>
            </section>

            <!-- 5. HOW TO BUY SECTION -->
            <section id="buy" class="rage-section p-6 md:p-10 border-4 border-black rounded-xl shadow-[8px_8px_0_0_#000000] bg-white">
                <h2 class="text-4xl font-bold mb-6 border-b-4 border-black pb-2 text-red-600">
                    How to Buy $RAGE on the Solana Blockchain
                </h2>
                <ol class="list-none space-y-6 text-xl">
                    <li class="p-3 border-b border-gray-300">
                        <span class="text-red-600 font-extrabold mr-2">1. WALLET:</span> Get a Solana-compatible wallet like **Phantom**, **Solflare**, or **Trust Wallet**. Install the browser extension or app and save your recovery phrase!
                    </li>
                    <li class="p-3 border-b border-gray-300">
                        <span class="text-red-600 font-extrabold mr-2">2. GET SOL:</span> Purchase **SOL (Solana)** tokens on a crypto exchange (e.g., Binance, Kraken, Coinbase). You need SOL to buy $RAGE and pay for transaction fees (gas).
                    </li>
                    <li class="p-3 border-b border-gray-300">
                        <span class="text-red-600 font-extrabold mr-2">3. TRANSFER:</span> Send the purchased SOL to your wallet's Solana address.
                    </li>
                    <li class="p-3 border-b border-gray-300">
                        <span class="text-red-600 font-extrabold mr-2">4. USE A DEX:</span> Open the in-wallet browser (DApps) section, or navigate to a decentralized exchange (**DEX**) like **Jupiter** or **Raydium**.
                    </li>
                    <li class="p-3 border-b border-gray-300">
                        <span class="text-red-600 font-extrabold mr-2">5. TOKEN ADDRESS:</span> Paste the $RAGE token address: 
                        <code class="bg-gray-200 p-1 rounded-md text-sm font-mono">G3FoXHoQDuGkEG8ZqQd7riC9uB1N51bg7JuxJEPNpump</code>
                    </li>
                    <li class="p-3">
                        <span class="text-red-600 font-extrabold mr-2">6. CONNECT & SWAP:</span> Connect your wallet, select SOL in the top swap field and $RAGE in the bottom field. Set your **slippage** between 0.5% and 1%, and confirm the transaction. **CONGRATS, you now own $RAGE!**
                    </li>
                </ol>
            </section>

            <!-- 6. LIVE CHART SECTION -->
            <section id="chart" class="rage-section p-6 md:p-10 border-4 border-black rounded-xl shadow-[8px_8px_0_0_#000000] bg-white">
                <h2 class="text-4xl font-bold mb-6 border-b-4 border-black pb-2 text-red-600">
                    Live $RAGE Chart
                </h2>
                <!-- DEXSCREENER EMBED START -->
                <div class="chart-container">
                    <!-- A chart URL a $RAGE tokenhez a Solanán -->
                    <iframe src="https://dexscreener.com/solana/G3FoXHoQDuGkEG8ZqQd7riC9uB1N51bg7JuxJEPNpump?embed=1&theme=dark&tabs=info&info=0&trades=0"></iframe>
                </div>
                <!-- DEXSCREENER EMBED END -->
            </section>

        </main>

        <footer class="text-center py-8 text-lg border-t-4 border-black mt-12">
            &copy; 2025 $RAGE Memecoin. All Rage Reserved.
        </footer>
    </div>
    <!-- ---------------------------------------------------- -->
    <!-- MAIN CONTENT CONTAINER END -->
    <!-- ---------------------------------------------------- -->


    <script>
        // --- SPLASH SCREEN LOGIC ---
        const RAGE_IMG = document.getElementById('rage-img');
        const SPLASH_SCREEN = document.getElementById('splash-screen');
        const MAIN_CONTENT = document.getElementById('main-content');
        const PROGRESS_CLIPPER = document.getElementById('progress-clipper'); 
        const INSTRUCTION_TEXT = document.getElementById('instruction-text');
        
        // MÓDOSÍTVA: 3000ms-ről 2000ms-re
        const HOLD_DURATION_MS = 2000; 
        const UPDATE_INTERVAL_MS = 50; 

        let startTime = 0;
        let intervalId = null;
        let isUnlocked = false;

        // --- RAGE METER ELEMENTS ---
        const BODY = document.body;
        const RAGE_METER_CONTAINER = document.getElementById('rage-meter-container');
        const RAGE_METER_FILL = document.getElementById('rage-meter-fill');
        const RAGE_STATUS = document.getElementById('rage-status');
        const RAGE_COUNTER_TEXT = document.getElementById('rage-counter');
        
        let currentRage = 0;
        const MAX_RAGE = 100;
        const RAGE_INCREMENT = 5; // How much rage is added per click
        const RAGE_DECAY = 0.5; // How much rage decays per interval (0.5% every 100ms = 5% per second)
        const DECAY_INTERVAL_MS = 100;
        let decayInterval;

        function unlockPage() {
            if (isUnlocked) return;
            isUnlocked = true;

            // Update UI for success
            RAGE_IMG.style.borderColor = '#00ff00';
            PROGRESS_CLIPPER.style.width = '100%';
            INSTRUCTION_TEXT.textContent = 'RAGE UNLOCKED! Welcome!';
            
            // Fade out splash screen and show main content
            setTimeout(() => {
                SPLASH_SCREEN.style.opacity = '0';
                SPLASH_SCREEN.style.pointerEvents = 'none'; 
                
                setTimeout(() => {
                    SPLASH_SCREEN.classList.add('hidden');
                    MAIN_CONTENT.classList.remove('hidden');
                    
                    // Ensure the main content animations start after load
                    initFuuuuu(); 
                    showSlides(slideIndex); // Start slideshow with manual control logic

                    // --- START RAGE METER LOGIC HERE ---
                    RAGE_METER_CONTAINER.addEventListener('mousedown', handleRageMeterClick);
                    RAGE_METER_CONTAINER.addEventListener('touchstart', handleRageMeterClick);
                    startDecay();
                    // --- END RAGE METER LOGIC HERE ---
                }, 500); // Wait for fade transition
            }, 500);
        }

        function resetProgress() {
            clearInterval(intervalId);
            intervalId = null;
            startTime = 0;
            PROGRESS_CLIPPER.style.width = '0%'; 
            INSTRUCTION_TEXT.textContent = 'Hold for 2 seconds...';
            RAGE_IMG.style.borderColor = '#ff0000'; 
        }

        function handleMouseDown(event) {
            // Check for right-click (button 2) or middle-click (button 1)
            if (isUnlocked || (event.button !== undefined && event.button !== 0)) return; 

            if (event.type.startsWith('touch')) {
                event.preventDefault(); 
            }

            if (intervalId) return;

            startTime = Date.now();
            RAGE_IMG.style.transform = 'scale(0.95)'; 
            RAGE_IMG.style.borderColor = '#0000ff'; 

            intervalId = setInterval(() => {
                const elapsedTime = Date.now() - startTime;
                const progress = Math.min(100, (elapsedTime / HOLD_DURATION_MS) * 100);
                
                PROGRESS_CLIPPER.style.width = `${progress}%`;
                
                const remaining = (HOLD_DURATION_MS - elapsedTime) / 1000;
                INSTRUCTION_TEXT.textContent = `Holding... ${Math.max(0, remaining).toFixed(1)}s left!`;

                if (progress >= 100) {
                    clearInterval(intervalId);
                    unlockPage();
                }
            }, UPDATE_INTERVAL_MS);
        }

        function handleMouseUpOrLeave() {
            if (isUnlocked) return;
            RAGE_IMG.style.transform = 'scale(1)'; 
            resetProgress();
        }

        // Attach listeners to the image (handling both mouse and touch)
        RAGE_IMG.addEventListener('mousedown', handleMouseDown);
        RAGE_IMG.addEventListener('mouseup', handleMouseUpOrLeave);
        RAGE_IMG.addEventListener('mouseleave', handleMouseUpOrLeave);
        RAGE_IMG.addEventListener('touchstart', handleMouseDown);
        RAGE_IMG.addEventListener('touchend', handleMouseUpOrLeave);
        RAGE_IMG.addEventListener('touchcancel', handleMouseUpOrLeave);


        // --- RAGE METER FUNCTIONS ---

        function updateMeterUI() {
            const percentage = Math.min(MAX_RAGE, currentRage);
            RAGE_METER_FILL.style.width = `${percentage}%`;
            RAGE_COUNTER_TEXT.textContent = `Rage Level: ${percentage.toFixed(0)}%`;

            if (currentRage >= MAX_RAGE) {
                RAGE_STATUS.textContent = 'RAGE LEVEL MAXED! FFFFUUUUUUUU!!!';
            } else if (currentRage > 75) {
                RAGE_STATUS.textContent = 'CRITICAL RAGE!';
            } else if (currentRage > 50) {
                RAGE_STATUS.textContent = 'Building Rage...';
            } else if (currentRage > 20) {
                RAGE_STATUS.textContent = 'Slightly Annoyed.';
            } else {
                RAGE_STATUS.textContent = 'Tap to build RAGE!';
            }
        }

        function handleRageMeterClick(event) {
            // Prevent right-click from triggering rage
            if (event.button !== undefined && event.button !== 0) return; 
            
            // Prevent long-press menu on mobile
            if (event.type.startsWith('touch')) {
                event.preventDefault(); 
            }

            if (currentRage >= MAX_RAGE) return;

            currentRage = Math.min(MAX_RAGE, currentRage + RAGE_INCREMENT);
            updateMeterUI();

            if (currentRage === MAX_RAGE) {
                triggerRageBurst();
            }
        }

        function triggerRageBurst() {
            // Visual feedback on max rage
            BODY.classList.add('rage-burst-active');
            
            // Temporary freeze of decay for 3 seconds
            clearInterval(decayInterval); 
            
            // Play sound effect if possible (using Tone.js as per instructions, but keeping it simple here)
            // A simple placeholder for visual effect:
            
            setTimeout(() => {
                // Remove visual feedback
                BODY.classList.remove('rage-burst-active');
                
                // Reset rage and restart decay
                currentRage = 0; 
                updateMeterUI();
                startDecay();

            }, 3000); 
        }

        function decayRage() {
            // Only decay if rage is not maxed out
            if (currentRage > 0 && currentRage < MAX_RAGE) {
                currentRage = Math.max(0, currentRage - RAGE_DECAY);
                updateMeterUI();
            }
        }

        function startDecay() {
            if (decayInterval) clearInterval(decayInterval);
            decayInterval = setInterval(decayRage, DECAY_INTERVAL_MS);
        }

        // --- GENERAL PAGE LOGIC ---

        // Copy Token Address function
        function copyAddress(address) {
            const tokenAddress = address.trim();
            const tempInput = document.createElement('textarea');
            tempInput.value = tokenAddress;
            document.body.appendChild(tempInput);
            tempInput.select();
            
            try {
                // Deprecated, but used for cross-iframe compatibility
                document.execCommand('copy'); 
                
                const copyIcon = document.getElementById('copyIcon');
                const copiedText = document.getElementById('copiedText');

                copyIcon.classList.add('hidden');
                copiedText.classList.remove('hidden');
                
                setTimeout(() => {
                    copyIcon.classList.remove('hidden');
                    copiedText.classList.add('hidden');
                }, 2000);
            } catch (err) {
                console.error('Failed to copy: ', err);
            } finally {
                document.body.removeChild(tempInput);
            }
        }

        // Image Slideshow Logic
        let slideIndex = 1; 
        let autoSlideTimeout;

        function showSlides(n) {
            const slides = document.querySelectorAll('#slideshow .slide');
            if (slides.length === 0) return;

            if (n > slides.length) { slideIndex = 1 } 
            if (n < 1) { slideIndex = slides.length }

            slides.forEach(slide => slide.style.opacity = '0');

            slides[slideIndex - 1].style.opacity = '1';

            clearTimeout(autoSlideTimeout);
            autoSlideTimeout = setTimeout(() => plusSlides(1), 5000); 
        }

        function plusSlides(n) {
            showSlides(slideIndex += n);
        }

        // FFFFUUUUUUUU Animated Background Logic
        function initFuuuuu() {
            const fuuuuContainer = document.getElementById('fuuuu-container');
            if (!fuuuuContainer) return;

            const text = "FFFFFUUUUUUUU";
            const count = 15;

            for (let i = 0; i < count; i++) {
                const span = document.createElement('span');
                span.textContent = text;
                span.className = 'fuuuu-text';

                const x = Math.random() * 200 - 100; 
                const y = Math.random() * 200 - 100;
                const rotate = Math.random() * 360 - 180;
                const scale = 0.5 + Math.random() * 1.5;

                const startX = Math.random() * 100;
                const startY = Math.random() * 100;

                span.style.left = `${startX}vw`;
                span.style.top = `${startY}vh`;
                span.style.fontSize = `${1.5 + Math.random() * 3.5}rem`;

                span.style.setProperty('--x', `${x}vw`);
                span.style.setProperty('--y', `${y}vh`);
                span.style.setProperty('--r', `${rotate}deg`);
                span.style.setProperty('--s', `${scale}`);
                span.style.animationDelay = `${Math.random() * -15}s`;

                fuuuuContainer.appendChild(span);
            }
        }

        // Biztosítja, hogy a kitöltött szöveg tökéletesen középen legyen, függetlenül a sáv méretétől.
        function fixClipperCentering() {
            const container = document.getElementById('progress-container');
            const innerText = document.getElementById('clipper-inner-text');

            if (!container || !innerText) return;

            const containerWidth = container.offsetWidth;
            innerText.style.width = `${containerWidth}px`;
        }

        // Középre igazítás javításának futtatása a betöltés után és átméretezéskor is
        setTimeout(fixClipperCentering, 0); 
        window.addEventListener('resize', fixClipperCentering);

    </script>

</body>
</html>
